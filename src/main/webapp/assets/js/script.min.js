$(function() {
  // active side navigation
  $("ul.nav.nav-list.side li a").each(function() {
    if($(this).attr("href") === location.pathname) {
      $(this).parent().addClass("active");
      $(this).children("i").addClass("icon-white");
    }
  });
  var activeTop = false;
  // active top navigation
  $("ul.nav.top li a").each(function() {
	  if($(this).attr("href") === location.pathname) {
		  $(this).parent().addClass("active");
      activeTop = true;
	  }
  });

  if(!activeTop && location.pathname != "/") {
    $("#top").addClass("active");
  }
  if(location.pathname == "/") {
    $(".brand").addClass("active");
  }

  // Fix input element click problem for sing in drop down
  $('.dropdown input, .dropdown label').click(function(e) {
    e.stopPropagation();
  });

  $("span[id$=errors]").each(function() {
    $(this).parent().parent().parent().addClass("error");
  })
  
  showDialog("delete");
});

function showDialog(name) {
  $("button." + name).click(function() {
    $("#" + name + "-dialog").modal("show");
    $("form[name='" + name + "'] input[type=hidden]").val($(this).data("id"));
  })
  $("#" + name + "-dialog").on('hide', function () {
    $("form[name='" + name + "'] input[type=hidden]").val("-1");
  });
}
